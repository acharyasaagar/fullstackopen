{"version":3,"sources":["components/Break.js","components/Filter.js","components/Notification.js","components/PersonForm.js","components/PersonsDisplay.js","services/person.js","utils/index.js","components/App.js","index.js"],"names":["Break","Filter","props","filter","handleFilterChange","className","value","onChange","Notification","message","style","margin","padding","color","fontSize","fontFamily","border","borderRadius","background","PersonForm","handleAddPerson","handlePersonChange","handleNumberChange","newNumber","newPerson","onSubmit","type","PersonsDisplay","filteredPersons","handlePersonRemoval","map","person","personId","id","personHref","key","name","href","number","onClick","baseUrl","parseResponse","res","data","payload","axios","post","then","get","identifier","delete","put","capitalize","str","split","toUpperCase","slice","toLowerCase","App","useState","persons","setPersons","setNewPerson","setNewNumber","setFilter","successMessage","setSuccessMessage","useEffect","personService","includes","e","incomingFilter","target","preventDefault","incomingPersonName","trim","join","personPayload","duplicate","find","p","window","confirm","setTimeout","newPersons","concat","_","catch","err","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94b6d3d1.chunk.js","sourcesContent":["import React from 'react'\n\nconst Break = () => {\n  return (\n    <>\n      <br />\n      <hr />\n    </>\n  )\n}\n\nexport default Break\n","import React from 'react'\n\nconst Filter = props => {\n  const { filter, handleFilterChange } = props\n\n  return (\n    <>\n      <form>\n        <label className=\"text\">Filter shown with:&nbsp;&nbsp;</label>\n        <input value={filter} onChange={handleFilterChange} />\n      </form>\n    </>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Notification = props => {\n  const { message } = props\n  const notificationStyle = {\n    margin: 8,\n    padding: '8px 10px 12px 10px',\n    color: '#281713',\n    fontSize: 16,\n    fontFamily: 'Arial sans-serif',\n    border: '3px solid #C40000',\n    borderRadius: 4,\n    background: '#D7BDBB',\n  }\n  if (message === null) {\n    return null\n  }\n  return <div style={notificationStyle}>{message}</div>\n}\n\nexport default Notification\n","import React from 'react'\n\nconst PersonForm = props => {\n  const {\n    handleAddPerson,\n    handlePersonChange,\n    handleNumberChange,\n    newNumber,\n    newPerson,\n  } = props\n\n  return (\n    <>\n      <h3>Add a new:</h3>\n      <form onSubmit={handleAddPerson}>\n        <div>\n          <label>Name:&nbsp;&nbsp;</label>\n          <input value={newPerson} onChange={handlePersonChange} />\n        </div>\n        <br />\n        <div>\n          <label>Number:&nbsp;&nbsp;</label>\n          <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <br />\n        <div>\n          <button type=\"submit\">Add Person</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst PersonsDisplay = props => {\n  const { filteredPersons, handlePersonRemoval } = props\n  return (\n    <>\n      <h3>Numbers</h3>\n      <ul>\n        {filteredPersons.map(person => {\n          const personId = `/${person.id}`\n          const personHref = `#/${person.id}`\n          return (\n            <li key={person.name}>\n              <p id={personId}>{person.name}</p>\n              <p>\n                <a href={personHref}>{person.number}</a>\n              </p>\n              <p>\n                <button onClick={handlePersonRemoval(person)}>delete</button>\n              </p>\n            </li>\n          )\n        })}\n      </ul>\n    </>\n  )\n}\n\nexport default PersonsDisplay\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst parseResponse = res => res.data\n\nconst getAll = () => axios.get(baseUrl).then(parseResponse)\n\nconst create = payload => axios.post(baseUrl, payload).then(parseResponse)\n\nconst remove = identifier =>\n  axios.delete(`${baseUrl}/${identifier}`).then(parseResponse)\n\nconst update = (identifier, payload) =>\n  axios.put(`${baseUrl}/${identifier}`, payload).then(parseResponse)\n\nexport default { create, getAll, remove, update }\n","export const capitalize = str => {\n  const first = str.split('')[0].toUpperCase()\n  const last = str.slice(1).toLowerCase()\n  return first + last\n}\n","import React, { useState, useEffect } from 'react'\n\nimport Break from './Break'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport PersonForm from './PersonForm'\nimport PersonsDisplay from './PersonsDisplay'\n\nimport personService from '../services/person'\nimport { capitalize } from '../utils'\n\nconst App = () => {\n  /**\n   * State initialization\n   */\n\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  /**\n   * Effect Hooks\n   */\n  const hook = () => {\n    personService.getAll().then(data => setPersons(data))\n  }\n\n  useEffect(hook, [])\n\n  /**\n   * Custom methods\n   */\n  const handleAddPerson = e => {\n    e.preventDefault()\n    /** state update is async so it does not matter where we put them */\n    setNewPerson('')\n    setNewNumber('')\n    /** Format input */\n    const incomingPersonName = newPerson\n      .trim()\n      .split(' ')\n      .map(capitalize)\n      .join(' ')\n    /** Prepare payload */\n    const personPayload = {\n      name: incomingPersonName,\n      number: newNumber,\n    }\n    /** Check Duplicate */\n    const duplicate = persons.find(\n      p => p.name.toLowerCase() === incomingPersonName.toLowerCase()\n    )\n    if (duplicate) {\n      const shouldReplace = window.confirm(\n        `${incomingPersonName} is already on phonebook, replace old number with new one?`\n      )\n      if (shouldReplace) {\n        return personService.update(duplicate.id, personPayload).then(data => {\n          /** update state after response is received */\n          setPersons(persons.map(p => (p.id === duplicate.id ? data : p)))\n          setSuccessMessage(`Number changed: ${personPayload.number}`)\n          setTimeout(() => setSuccessMessage(null), 5000)\n        })\n      }\n    }\n    return personService.create(personPayload).then(data => {\n      /** Update state after response is received */\n      const newPersons = persons.concat(data)\n      setPersons(newPersons)\n      setSuccessMessage(`Added: ${personPayload.name}`)\n      setTimeout(() => setSuccessMessage(null), 5000)\n    })\n  }\n\n  const handlePersonChange = e => {\n    setNewPerson(e.target.value)\n  }\n\n  const handleNumberChange = e => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilterChange = e => {\n    const incomingFilter = e.target.value.toLowerCase()\n    setFilter(incomingFilter)\n  }\n\n  const handlePersonRemoval = person => {\n    return function () {\n      const shouldContinueDeletion = window.confirm(\n        `Delete ${person.name} from phonebook?`\n      )\n      if (shouldContinueDeletion) {\n        personService\n          .remove(person.id)\n          .then(_ => {\n            setPersons(persons.filter(p => p.id !== person.id))\n            setSuccessMessage(`Removed: ${person.name}`)\n            setTimeout(() => setSuccessMessage(null), 5000)\n          })\n          .catch(err => {\n            setSuccessMessage(\n              `Oops, looks like ${person.name} is already removed from server!!`\n            )\n            setTimeout(() => setSuccessMessage(null), 5000)\n          })\n      }\n    }\n  }\n\n  const filteredPersons =\n    filter === ''\n      ? persons\n      : persons.filter(person => person.name.toLowerCase().includes(filter))\n\n  /**\n   *  Markup\n   */\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <Break />\n      <PersonForm\n        handleAddPerson={handleAddPerson}\n        handleNumberChange={handleNumberChange}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        newPerson={newPerson}\n      />\n      <Break />\n      <PersonsDisplay\n        filteredPersons={filteredPersons}\n        handlePersonRemoval={handlePersonRemoval}\n      />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}